(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4936:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>h,tree:()=>c}),t(908),t(1506),t(5866);var r=t(3191),a=t(8716),i=t(7922),l=t.n(i),n=t(5231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(s,d);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,908)),"/Users/jonathanpolikowski/custom-ratings/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,1506)),"/Users/jonathanpolikowski/custom-ratings/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/jonathanpolikowski/custom-ratings/app/page.tsx"],m="/page",x={require:t,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3202:()=>{},337:(e,s,t)=>{Promise.resolve().then(t.bind(t,8743))},373:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},8743:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var r=t(326),a=t(7550),i=t(6153);function l(){return r.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900 mb-8",children:"Custom Ratings Widget Demo"}),(0,r.jsxs)("div",{className:"space-y-12",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Service Provider: John's Plumbing"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Current Average Rating:"}),r.jsx(i.Z,{serviceProviderId:"johns-plumbing",size:"large"})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Rate this service provider:"}),r.jsx(a.Z,{serviceProviderId:"johns-plumbing",size:"large",onRatingSubmit:e=>{window.location.reload()}})]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Service Provider: Sarah's Cleaning"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Current Average Rating:"}),r.jsx(i.Z,{serviceProviderId:"sarahs-cleaning",size:"large"})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Rate this service provider:"}),r.jsx(a.Z,{serviceProviderId:"sarahs-cleaning",size:"large",onRatingSubmit:e=>{window.location.reload()}})]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Usage Examples"}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Different Sizes:"}),(0,r.jsxs)("div",{className:"flex items-center gap-8",children:[(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Small"}),r.jsx(i.Z,{serviceProviderId:"johns-plumbing",size:"small"})]}),(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Medium"}),r.jsx(i.Z,{serviceProviderId:"johns-plumbing",size:"medium"})]}),(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Large"}),r.jsx(i.Z,{serviceProviderId:"johns-plumbing",size:"large"})]})]})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Without Count:"}),r.jsx(i.Z,{serviceProviderId:"johns-plumbing",size:"medium",showCount:!1})]})]})]}),(0,r.jsxs)("div",{className:"bg-gray-100 rounded-lg p-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"How to Embed"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-medium text-gray-700",children:"For Rating Input:"}),r.jsx("code",{className:"block bg-gray-800 text-green-400 p-3 rounded text-sm mt-2",children:'<StarRating serviceProviderId="your-provider-id" size="medium" />'})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-medium text-gray-700",children:"For Average Display:"}),r.jsx("code",{className:"block bg-gray-800 text-green-400 p-3 rounded text-sm mt-2",children:'<AverageRating serviceProviderId="your-provider-id" size="medium" />'})]})]})]})]})]})})}},6153:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});var r=t(326),a=t(7577);function i({serviceProviderId:e,size:s="medium",showCount:t=!0,className:i=""}){let[l,n]=(0,a.useState)(null),[d,c]=(0,a.useState)(!0),[o,m]=(0,a.useState)(null),x={small:"w-4 h-4",medium:"w-5 h-5",large:"w-6 h-6"},h={small:"text-sm",medium:"text-base",large:"text-lg"};if(d)return(0,r.jsxs)("div",{className:`flex items-center gap-1 ${i}`,children:[r.jsx("div",{className:"animate-pulse flex items-center gap-1",children:[1,2,3,4,5].map(e=>r.jsx("div",{className:`${x[s]} bg-gray-200 rounded`},e))}),r.jsx("span",{className:`text-gray-400 ${h[s]}`,children:"Loading..."})]});if(o)return r.jsx("div",{className:`text-red-500 ${h[s]} ${i}`,children:"Error loading rating"});if(!l||0===l.count)return(0,r.jsxs)("div",{className:`flex items-center gap-1 ${i}`,children:[[1,2,3,4,5].map(e=>r.jsx("svg",{fill:"#e5e7eb",viewBox:"0 0 20 20",className:x[s],children:r.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},e)),r.jsx("span",{className:`text-gray-500 ${h[s]} ml-1`,children:"No ratings yet"})]});let{average:g,count:u}=l,p=Math.round(g);return(0,r.jsxs)("div",{className:`flex items-center gap-1 ${i}`,children:[r.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(e=>r.jsx("svg",{fill:e<=p?"#fbbf24":"#e5e7eb",viewBox:"0 0 20 20",className:x[s],children:r.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},e))}),r.jsx("span",{className:`text-gray-700 ${h[s]} ml-1`,children:g.toFixed(1)}),t&&(0,r.jsxs)("span",{className:`text-gray-500 ${h[s]}`,children:["(",u," ",1===u?"rating":"ratings",")"]})]})}},7550:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});var r=t(326),a=t(7577);function i({serviceProviderId:e,initialRating:s=0,readonly:t=!1,size:i="medium",onRatingSubmit:l}){let[n,d]=(0,a.useState)(s),[c,o]=(0,a.useState)(0),[m,x]=(0,a.useState)(!1),h={small:"w-4 h-4",medium:"w-6 h-6",large:"w-8 h-8"},g=async s=>{if(!t&&!m){x(!0);try{(await fetch("/api/ratings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serviceProviderId:e,rating:s})})).ok?(d(s),l?.(s)):console.error("Failed to submit rating")}catch(e){console.error("Error submitting rating:",e)}finally{x(!1)}}},u=e=>{t||o(e)},p=c||n;return(0,r.jsxs)("div",{className:"flex items-center gap-1",onMouseLeave:()=>{t||o(0)},children:[[1,2,3,4,5].map(e=>r.jsx("button",{type:"button",className:`${h[i]} ${t?"cursor-default":"cursor-pointer hover:scale-110"} transition-transform duration-150 ${m?"opacity-50":""}`,onClick:()=>g(e),onMouseEnter:()=>u(e),disabled:t||m,children:r.jsx("svg",{fill:e<=p?"#fbbf24":"#e5e7eb",viewBox:"0 0 20 20",className:"w-full h-full",children:r.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})},e)),m&&r.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Submitting..."})]})}},1506:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i,metadata:()=>a});var r=t(9510);t(7272);let a={title:"Custom Ratings Widget",description:"Embeddable star rating system for service providers"};function i({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{children:e})})}},908:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(8570).createProxy)(String.raw`/Users/jonathanpolikowski/custom-ratings/app/page.tsx#default`)},7272:()=>{}};var s=require("../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[276,471],()=>t(4936));module.exports=r})();